# Git - одна из сестем контроля версий

* ## Подготавливаем и настраиваем
1. ### Заходим на <code>[оффициальный сайт](https://git-scm.com)</code>, <code>[скачиваем Git](https://git-scm.com/downloads)</code> для Вашей ОС и устанавливаем.

2. ### Перед созданием нового проекта рекомендуется произвести следующую настройку/глобальную конфигурацию. 
```Git
git config --global user.name "First name, last name"
git config --global user.email "email@email.com"
```

3. ### Потом заходим в папку с проектом и призводим инициализацию проекта для отслеживания.
```Git
git init
git init <folder> # создать новый проект в указанной директории
```

4. ### Либо делаем клонирование репозитория из удаленного репозторияю.
```Git
git clone <url>
git clone <url> <folder>
```
### Где **folder** не обязательно, это имя локального каталога.
---

* ## Делаем коммит

1. ### Добавляем файл на **commit** кандидат.
```Git
git add <file> # вводим первые 2 буквы названия файла после git add и нажимаем tab
git add . # добавляем все файлы
```

2. ### Сохраняем/фиксируем и комментириуем изменения файла.
```Git
git commit -m "Comment"
```
* ### После изменения файла делаем 2 этих пункта.
3. ### gitk - редактор коммитов, так можем посмотреть коммиты.
---

* ## Смотрим/подключаем/отключаем удалённый репозиторий
```Git
git remote show origin # смотрим информацию про удалённый репозиторий
git remote add origin <link> # подключаем удаленный репозиторий
git remote -v # инормация о путях к удаленным репозиториям
git remote remove # отключает удаленный репозиторий
```

---
* ## Отправляем изменения в удалённый репозиторий
```Git
git push <remote-name> <branch-name>
# например
git push -u origin <branch>
```

* ## Получение изменений из удалённого репозитория
```Git
git fetch <remote> # безопасное
git fetch --all # затягивает все изменения
git pull # не безопасное
```

---
* ## История коммитов(*всех изменений*)
```Git
git log // история коммитов
git log --pretty=oneline // история в одну строку
git log -p // показывает разницу, внесённую в каждый коммит
git log origin/<branch-name(remote)> ^<branch-name(local)> # смотрим изменения в удаленной ветке без слияния с локальной
```

---
* ## Просмотр индексированных и неиндексированных изменений
```Git
git diff
git diff <commit>
```

---
* ## Проверяем состояние

1. ### Проверяем состояние **Git** репозитория.
```Git
git status
git status -s //сокращенный вариант
```

---
* ## Игнорирование отслежевания
### Хорошая практика заключается в настройке файла .gitignore до начала работы с проектом, вот пример такого файла.
```Gitignore
# Исключить все файлы с расширением .a
*.a

# Но отслеживать файл name_file.a даже если он подпадает под исключение выше
!name_file.a

# Исключить файл FILE в корневом каталоге, но не файл в другой директории subdir/FILE
/FILE

# Игнорировать все файлы в каталоге folder/
folder/

# Игнорировать файл doc/notes.txt, но не файл doc/server/arch.txt
doc/*.txt

# Игнорировать все .txt файлы в каталоге doc/
doc/**/*.txt

# Каталоги автоматически создаваемую документацию
log, tmp, pid; 
```

---
* ## Удаление файлов из отслеживаемых файлов/из вашего индекса 
```Git
git rm
```

### Удаление файла из индекса, но оставив его в рабочем каталоге
```Git
git rm --cached
```

---
* ## Перемещение/переименование файла
```Git
git mv file_from file_to
git mv file_from /folder

## аналогично

git rm file_from
git add file_to
```

---
* ## Возвращение к коммиту
```Git
git checkout *hash from the commit histor*
git checkout master // возвращаемся на ветку master
```

---
* ## Отмена индексации
```Git
git reset HEAD(либо hash) <file>
git checkout <file>
// или
git commit --amend
// или более новый вариант
git restore
git restore --staged <file>
```

---
* ## Отмена коммита/изменений
```Git
git revert HEAD // возарщаемся к последнему коммиту в нашей ветке
git checkout -- <file>
```

---
* ## Просмотр удалённых репозиториев
```Git
git remote
git remote -v // просмотреть адреса для чтения и записи, привязанные к репозиторию
```

---
* ## Удаление и переименование удалённых репозиториев
```Git
git remote rename <old_name> <new_name>
git remote rm
```
* ## Теги 
### Аннотированные теги:
```Git
git tag -a v3.4 -m "my version 3.4"
```

### С помощью команды **git show** вы можете посмотреть данные тега вместе с коммитом.
```Git
git show v3.4
```

### Легковесные теги:
```Git
git tag v3.4-lw
```

### Отправка тегов, через **git push** они не отправляются
```Git
git push origin <tagname>
```

### Удаление тегов из локальных и из внешних репозиториев
```Git
git tag -d <tagname> // локальный

git push origin --delete <tagname> // внешний
```

### Переход на тег
```Git
git checkout -b <branch_name> v3.4
```

* ## Ускоряем работу с Git
### Если вы не хотите печатать каждую команду для **Git** целиком, вы легко можете настроить псевдонимы (*alias*) для любой команды с помощью **git config**. Вот несколько примеров псевдонимов, которые вы, возможно, захотите задать:
```Git
git config --global alias.ch checkout
git config --global alias.br branch
git config --global alias.cm commit
git config --global alias.st status
```
### Это означает, что, вместо ввода **git commit**, вам достаточно набрать только **git cm**. По мере освоения **Git** вам, вероятно, придётся часто пользоваться и другими командами. В этом случае без колебаний создавайте новые псевдонимы.